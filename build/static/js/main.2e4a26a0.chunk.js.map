{"version":3,"sources":["components/FilterForm.js","components/AddNewForm.js","components/ListOfPersons.js","services/serviceclient.js","components/Notification.js","App.js","index.js"],"names":["FilterForm","props","onChange","handleFilterChange","AddNewForm","value","nameValue","nameOnChange","numberValue","numberOnChange","onClick","addNewPerson","ListOfPersons","showPersons","map","person","name","number","handleDeleteClick","id","baseUrl","axios","get","then","response","data","personObject","post","catch","error","console","log","newnumber","put","delete","Notification","style","color","fontSize","border","backgroundColor","marginBottom","borderRadius","notification","App","useState","newName","setNewName","newNumber","setNewNumber","setShowPersons","setNotification","useEffect","serviceclient","a","event","filter","toLowerCase","includes","target","some","window","confirm","find","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2e4a26a0.chunk.js","sourcesContent":["const FilterForm = (props) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input onChange={props.handleFilterChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterForm;\r\n","const AddNewForm = (props) => {\r\n  return (\r\n    <form>\r\n      <div>\r\n        name: <input value={props.nameValue} onChange={props.nameOnChange} />\r\n      </div>\r\n      <div>\r\n        number:\r\n        <input value={props.numberValue} onChange={props.numberOnChange} />\r\n      </div>\r\n      <div></div>\r\n      <button onClick={props.addNewPerson}>add</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default AddNewForm;\r\n","const ListOfPersons = (props) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {props.showPersons.map((person) => {\r\n          return (\r\n            <li key={person.name}>\r\n              {person.name} {person.number}{\" \"}\r\n              <button\r\n                onClick={() => {\r\n                  props.handleDeleteClick(person.id, person.name);\r\n                }}\r\n              >\r\n                delete\r\n              </button>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListOfPersons;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"http://localhost:3001/api/persons/\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n\r\n  return request.then((response) => response.data);\r\n};\r\nconst postPerson = (personObject) => {\r\n  return axios.post(baseUrl, personObject).catch((error) => console.log(error));\r\n};\r\nconst deletePerson = (id) => {\r\n  console.log(id);\r\n  return axios.delete(baseUrl + id).then((response) => response.data);\r\n};\r\n\r\nconst updatePerson = (person, newnumber) => {\r\n  console.log(person);\r\n  axios.put(baseUrl, person).then((response) => response.data);\r\n};\r\nexport default {\r\n  getAll,\r\n  postPerson,\r\n  updatePerson,\r\n  deletePerson,\r\n};\r\n","const Notification = (props) => {\r\n  const succesfulAction = {\r\n    color: \"green\",\r\n\r\n    fontSize: 27,\r\n    border: \"1px solid black\",\r\n    backgroundColor: \"snow\",\r\n    marginBottom: 40,\r\n    borderRadius: 4,\r\n  };\r\n  return <div style={succesfulAction}>{props.notification}</div>;\r\n};\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\nimport FilterForm from \"./components/FilterForm\";\nimport AddNewForm from \"./components/AddNewForm\";\nimport ListOfPersons from \"./components/ListOfPersons\";\nimport serviceclient from \"./services/serviceclient\";\n\nimport Notification from \"./components/Notification\";\nconst App = () => {\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(0);\n  const [showPersons, setShowPersons] = useState([]);\n  const [notification, setNotification] = useState(\"\");\n\n  const hook = () => {\n    serviceclient\n      .getAll()\n      .then((a) => setShowPersons(a))\n      .catch((error) => console.log(\"Errori hookissa \" + error));\n  };\n\n  useEffect(hook, []);\n\n  const addNewPerson = (event) => {\n    let alreadyAdded = showPersons.some((person) => person.name === newName);\n    if (alreadyAdded) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with new one?`\n        )\n      ) {\n        serviceclient\n          .updatePerson(\n            showPersons.find((a) => a.name === newName),\n            newNumber\n          )\n          .then((response) => {\n            setShowPersons(\n              showPersons.map((a) => (a.id !== response.id ? a : response)),\n              setNotification(`Updated number of ${newName} `),\n              setTimeout(() => {\n                setNotification(null);\n              }, 5000)\n            );\n          })\n          .catch((error) => {\n            console.log(error);\n          });\n      }\n      //alert(`${newName} is already added to phonebook`);\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      };\n      serviceclient\n        .postPerson(personObject)\n        .then((response) => {\n          setShowPersons(showPersons.concat(response.data));\n          setNotification(`Added ${newName}`);\n          setTimeout(() => {\n            setNotification(null);\n          }, 5000);\n        })\n        .catch((error) => console.log(\"error: \" + error));\n    }\n  };\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  };\n  const handleFilterChange = (event) => {\n    setShowPersons(\n      showPersons.filter((person) =>\n        person.name.toLowerCase().includes(event.target.value.toLowerCase())\n      )\n    );\n  };\n  const handleDeleteClick = (id, name) => {\n    if (window.confirm(`Delete ${name}?`))\n      serviceclient.deletePerson(id).then((response) => {\n        setShowPersons(showPersons.filter((person) => person.id !== id));\n        setNotification(`Deleted  ${name}`);\n        setTimeout(() => {\n          setNotification(null);\n        }, 5000);\n      });\n  };\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <FilterForm handleFilterChange={handleFilterChange} />\n      <h2>Add New</h2>\n      <AddNewForm\n        nameValue={newName}\n        numberValue={newNumber}\n        nameOnChange={handleNameChange}\n        numberOnChange={handleNumberChange}\n        addNewPerson={addNewPerson}\n      />\n      <h2>Numbers</h2>\n\n      <ListOfPersons\n        showPersons={showPersons}\n        handleDeleteClick={handleDeleteClick}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}
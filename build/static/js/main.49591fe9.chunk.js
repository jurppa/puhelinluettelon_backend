(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var o=t(2),c=t(14),r=t.n(c),i=t(3),u=t(0),a=function(e){return Object(u.jsxs)("div",{children:["filter shown with ",Object(u.jsx)("input",{onChange:e.handleFilterChange})]})},l=function(e){return Object(u.jsxs)("form",{children:[Object(u.jsxs)("div",{children:["name: ",Object(u.jsx)("input",{value:e.nameValue,onChange:e.nameOnChange})]}),Object(u.jsxs)("div",{children:["number:",Object(u.jsx)("input",{value:e.numberValue,onChange:e.numberOnChange})]}),Object(u.jsx)("div",{}),Object(u.jsx)("button",{onClick:e.addNewPerson,children:"add"})]})},s=function(e){return Object(u.jsx)("div",{children:Object(u.jsx)("ul",{children:e.showPersons.map((function(n){return Object(u.jsxs)("li",{children:[n.name," ",n.number," ",Object(u.jsx)("button",{onClick:function(){e.handleDeleteClick(n.id,n.name)},children:"delete"})]},n.id)}))})})},d=t(4),j=t.n(d),b="/api/persons/",h=function(){return j.a.get(b).then((function(e){return e.data}))},f=function(e){return j.a.post(b,e)},O=function(e,n,t){console.log(e);var o={id:e.id,name:n,number:t};j.a.put(b+e.id,o).then((function(e){return e.data}))},m=function(e){return console.log("Delete person id: "+e),j.a.delete(b+e).then((function(e){return e.data}))},g=function(e){var n={color:e.color,fontSize:27,border:"1px solid black",backgroundColor:"snow",marginBottom:40,borderRadius:4};return Object(u.jsx)("div",{style:n,children:e.notification})},p=function(){var e=Object(o.useState)(""),n=Object(i.a)(e,2),t=n[0],c=n[1],r=Object(o.useState)(0),d=Object(i.a)(r,2),j=d[0],b=d[1],p=Object(o.useState)([]),x=Object(i.a)(p,2),w=x[0],v=x[1],C=Object(o.useState)(""),k=Object(i.a)(C,2),D=k[0],S=k[1],P=Object(o.useState)("green"),N=Object(i.a)(P,2),T=N[0],V=N[1];Object(o.useEffect)((function(){h().then((function(e){return v(e)})).catch((function(e){return console.log("Errori hookissa "+e)}))}),[]);return Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(g,{notification:D,color:T}),Object(u.jsx)(a,{handleFilterChange:function(e){v(w.filter((function(n){return n.name.toLowerCase().includes(e.target.value.toLowerCase())})))}}),Object(u.jsx)("h2",{children:"Add New"}),Object(u.jsx)(l,{nameValue:t,numberValue:j,nameOnChange:function(e){c(e.target.value)},numberOnChange:function(e){b(e.target.value)},addNewPerson:function(e){w.some((function(e){return e.name===t}))?window.confirm("".concat(t," is already added to phonebook, replace the old number with new one?"))&&O(w.find((function(e){return e.name===t})),t,j).then((function(e){v(w.map((function(n){return n.id!==e.id?n:e})),S("Updated number of ".concat(t," ")),setTimeout((function(){S(null)}),5e3))})).catch((function(e){console.log(e)})):(e.preventDefault(),f({name:t,number:j}).then((function(e){v(w.concat(e.data)),S("Added ".concat(t)),setTimeout((function(){S(null)}),5e3)})).catch((function(e){console.dir(e.response),S(e.response.data),V("orange"),setTimeout((function(){S(null),V("green")}),5e3)})))}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(s,{showPersons:w,handleDeleteClick:function(e,n){window.confirm("Delete ".concat(n,"?"))&&m(e).then((function(t){v(w.filter((function(n){return n.id!==e}))),S("Deleted  ".concat(n)),V("orange"),setTimeout((function(){S(null),V("green")}),5e3)}))}})]})};r.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.49591fe9.chunk.js.map